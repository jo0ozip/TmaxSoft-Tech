<?xml version="1.0" encoding="utf-8"?>
<domain xmlns="http://www.tmaxsoft.com/xml/ns/jeus" version="8.5">
    <production-mode>true</production-mode>
    <id>1163292686</id>
	<admin-server-name>%SERVERNAME%</admin-server-name>
    <security-manager>
        <default-application-domain>SYSTEM_DOMAIN</default-application-domain>
        <security-domains>
            <security-domain>
                <name>SYSTEM_DOMAIN</name>
            </security-domain>
        </security-domains>
    </security-manager>
    <domain-log-home>%JEUS_LOG_HOME%</domain-log-home>
    <session-cluster>
        <cluster-mode>%CLUSTER_MODE%</cluster-mode>
        <session-manager-provider>RUNTIME</session-manager-provider>
        <sticky-encoding-rule>%STICKY_ENCODING%</sticky-encoding-rule>
        <properties>
           <property>
              <key>jeus.sessionmanager.distributed.fullsearch.timeout</key>
              <value>10000</value>
           </property>
          <property>
              <key>jeus.sessionmanager.backup.redundancy</key>
              <value>8</value>
          </property>
      </properties>
    </session-cluster>
    <system-clustering-framework>
        <transport>%SCF_MODE%</transport>
    </system-clustering-framework>
    <enable-webadmin>false</enable-webadmin>
    <servers>
        <server>
            <name>%SERVERNAME%</name>
            <jvm-config>
               <!--<jvm-option>-Xms4096m -Xmx4096m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=512m</jvm-option>-->
            </jvm-config>
	    <data-sources>
                <data-source>dsTibero</data-source>
            </data-sources>
            <class-ftp>true</class-ftp>
            <listeners>
                <base>BASE</base>
                <listener>
                    <name>BASE</name>
                    <listen-port>%BASE_PORT%</listen-port>
                </listener>
                <listener>
                    <name>http-server</name>
                    <listen-port>%HTTP_PORT%</listen-port>
                    <listen-address>%BASE_ADDRESS%</listen-address>
                    <keep-alive-timeout>600000</keep-alive-timeout>
                </listener>
            </listeners>
            <use-web-engine>true</use-web-engine>
            <use-ejb-engine>false</use-ejb-engine>
            <use-jms-engine>false</use-jms-engine>
            <web-engine>
                <encoding>
                    <request-encoding>
                        <forced>%ENCODING%</forced>
                    </request-encoding>
                    <response-encoding>
                        <forced>%ENCODING%</forced>
                    </response-encoding>
                    <request-url-encoding>
                        <forced>%ENCODING%</forced>
                    </request-url-encoding>
                </encoding>
                <cookie-policy>
                    <write-value-on-header-policy>
                        <apply-url-encoding-rule>false</apply-url-encoding-rule>
                    </write-value-on-header-policy>
                </cookie-policy>
                <blocked-url-patterns>
                    <deny-last-space-character>true</deny-last-space-character>
                    <deny-null-character>true</deny-null-character>
                    <encoded-pattern>%00</encoded-pattern>
                    <encoded-pattern>%23</encoded-pattern>
                    <encoded-pattern>%2e</encoded-pattern>
                    <encoded-pattern>%2f</encoded-pattern>
                    <encoded-pattern>%5c</encoded-pattern>
                    <decoded-pattern>#</decoded-pattern>
                    <decoded-pattern>\</decoded-pattern>
                </blocked-url-patterns>
                <web-connections>
                    <http-listener>
                        <name>http</name>
                        <server-listener-ref>http-server</server-listener-ref>
                        <thread-pool>
                            <min>%HTTP_THREAD_MIN%</min>
                            <max>%HTTP_THREAD_MAX%</max>
                        </thread-pool>
                    </http-listener>
                    <http-listener>
                        <name>ADMIN-HTTP</name>
                        <output-buffer-size>8192</output-buffer-size>
                        <postdata-read-timeout>30000</postdata-read-timeout>
                        <max-post-size>-1</max-post-size>
                        <max-parameter-count>-1</max-parameter-count>
                        <max-header-count>-1</max-header-count>
                        <max-header-size>-1</max-header-size>
                        <max-querystring-size>8192</max-querystring-size>
                        <server-access-control>false</server-access-control>
                        <server-listener-ref>BASE</server-listener-ref>
                        <thread-pool>
                            <min>1</min>
                            <max>32</max>
                            <use-auto-tuning>false</use-auto-tuning>
                            <limit>0</limit>
                            <max-idle-time>300000</max-idle-time>
                            <max-wait-queue>0</max-wait-queue>
                            <max-queue>-1</max-queue>
                        </thread-pool>
                    </http-listener>
                </web-connections>
                <attach-stacktrace-on-error>true</attach-stacktrace-on-error>
		<session-config>
			<session-cookie>
				<cookie-name>%SESSION_ID%</cookie-name>
			</session-cookie>
		</session-config>
            </web-engine>
            <system-logging>
                <name>%JEUS_LOG_NAME%</name>
                <level>%JEUS_LOG_LEVEL%</level>
                <handler>
                    <file-handler>
                        <name>fileHandler</name>
                        <valid-day>1</valid-day>
                    </file-handler>
                </handler>
            </system-logging>
	    <data-sources>
                <data-source>dsTibero</data-source>
            </data-sources>
        </server>
    </servers>
    <deployed-applications>
        <deployed-application>
            <id>app</id>
            <path>%APP_PATH%</path>
            <type>WAR</type>
            <target-all-servers>true</target-all-servers>
            <classloading>ISOLATED</classloading>
            <use-fast-deploy>false</use-fast-deploy>
            <keep-generated>false</keep-generated>
            <shared>true</shared>
            <security-domain-name>SYSTEM_DOMAIN</security-domain-name>
            <context-path>%APP_CONTEXT_PATH%</context-path>
            <node-java-context>false</node-java-context>
        </deployed-application>
    </deployed-applications>
    <resources>
        <data-source>
            <database>
                <data-source-id>dsTibero</data-source-id>
                <export-name>dsTibero</export-name>
                <data-source-class-name>com.tmax.tibero.jdbc.ext.TbConnectionPoolDataSource</data-source-class-name>
                <data-source-type>ConnectionPoolDataSource</data-source-type>
                <vendor>tibero</vendor>
                <server-name>10.206.6.32</server-name>
                <port-number>8629</port-number>
                <database-name>DBTSIA</database-name>
                <user>US_DEV</user>
                <password>US_DEV</password>
                <login-timeout>0</login-timeout>
                <auto-commit>DRIVER</auto-commit>
                <stmt-query-timeout>0</stmt-query-timeout>
                <pool-destroy-timeout>10000</pool-destroy-timeout>
                <property>
                    <name>driverType</name>
                    <value>thin</value>
                    <type>java.lang.String</type>
                </property>
                <support-xa-emulation>false</support-xa-emulation>
                <connection-pool>
                    <pooling>
                        <min>30</min>
                        <max>30</max>
                        <step>1</step>
                        <period>3600000</period>
                    </pooling>
                    <wait-free-connection>
                        <enable-wait>true</enable-wait>
                        <wait-time>10000</wait-time>
                    </wait-free-connection>
                    <max-use-count>0</max-use-count>
                    <dba-timeout>-1</dba-timeout>
                    <connection-validation>
                        <check-query>select 1 from dual</check-query>
                        <check-query-timeout>5000</check-query-timeout>
                        <non-validation-interval>60000</non-validation-interval>
                        <check-query-period>300000</check-query-period>
                        <check-query-retrial-count>0</check-query-retrial-count>
                        <destroy-policy-on-check-query>AllConnections</destroy-policy-on-check-query>
                    </connection-validation>
                    <stmt-caching-size>-1</stmt-caching-size>
                    <stmt-fetch-size>-1</stmt-fetch-size>
                    <connection-trace>
                        <enabled>false</enabled>
                        <get-connection-trace>true</get-connection-trace>
                        <auto-commit-trace>false</auto-commit-trace>
                    </connection-trace>
                    <use-sql-trace>false</use-sql-trace>
                    <keep-connection-handle-open>false</keep-connection-handle-open>
                </connection-pool>
            </database>
	</data-source>
    </resources>
</domain>
